<!DOCTYPE html>
<html>
  <head>
    <title>Novan Platformludon</title>
    <meta charset="UTF-8">
    <meta name="description" content="adding the player and things"/>
    <style>
      body {
        margin: 0;
        font-size: 0;
        background: #E9EEF2;
      }
      canvas {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <canvas id='stage'></canvas>

    <script src="../../sheep.js"></script>
    <script src="render.js" charset="utf-8"></script>
    <script>
var testlevel=[
  "@@@@@@@@@@@>=*v@@+@@",
  "@          yyyy@@w@@",
  "@           yyyywww@",
  "@   @===@    yyywww@",
  "@     #       yywww@",
  "@     #        @w@@@",
  "@v^&@###*>><<**@@@@@"
],
ids={
  ' ':'air',
  '@':'ground',
  '#':'lava',
  '+':'win',
  'w':'water',
  '=':'mud',
  '*':'ice',
  '<':'left',
  '>':'right',
  '^':'jump',
  'v':'stick',
  'y':'gravity',
  '&':'autojump',
},
physics={
  air:{hardness:'transparent'},
  ground:{hardness:'solid',colour:'262121'},
  lava:{hardness:'liquid',colour:'FF5722',deadly:true},
  win:{hardness:'solid',colour:'8BC34A',image:'../icons/materialicon_flag.svg',imageSize:0.6},
  water:{hardness:'liquid',colour:'2196F3'},
  mud:{hardness:'solid',friction:0.5,acceleration:0.5,maxspeed:5,colour:'795548'},
  ice:{hardness:'solid',friction:0.95,acceleration:0.5,maxspeed:15,breakforce:0.7,colour:'00BCD4'},
  left:{hardness:'solid',xboost:-3,colour:'009688',image:'../icons/materialicon_chevron_left.svg',imageSize:0.6},
  right:{hardness:'solid',xboost:3,colour:'004D40',image:'../icons/materialicon_chevron_right.svg',imageSize:0.6},
  jump:{hardness:'solid',yboost:15,colour:'9C27B0',image:'../icons/materialicon_keyboard_arrow_up.svg',imageSize:0.6,topOnly:true},
  stick:{hardness:'solid',yboost:0,colour:'FFC107',image:'../icons/materialicon_block.svg',imageSize:0.6},
  gravity:{hardness:'transparent',colour:'64B5F6',gravity:0.5},
  autojump:{hardness:'solid',autoyboost:15,colour:'E91E63',image:'../icons/materialicon_arrow_upward.svg',imageSize:0.6,topOnly:true},
},
level={};
(function() {
  for (var i=0;i<testlevel.length;i++) {
    level[i]={};
    for (var j=0;j<testlevel[i].length;j++) level[i][j]={t:ids[testlevel[i][j]]}; // t: type
  }
  Render.loadImages(physics);
  var render=new Render(document.querySelector('#stage'),40,physics);
  window.requestAnimationFrame(render.frame);
  window.onresize=render.resize;
  document.addEventListener("keydown",e=>{
    if (e.keyCode===82) render.player.die();
  },false);
}());
    </script>
  </body>
  <!-- MADE BY SEAN -->
</html>
